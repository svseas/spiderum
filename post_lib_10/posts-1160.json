{"_id":3481,"body":"<div><p>Chào mọi người, ở<strong><em> </em></strong><a href=\"http://spiderum.com/bai-dang/Huong-dan-su-dung-Google-Tag-Manager-Phan-1-Huong-dan-cai-dat-va-cach-thuc-hoat-dong-2m4\" target=\"_blank\"><strong><em>phần 1 của bài viết</em></strong></a> mình đã giới thiệu các khái niệm cơ bản cũng như cách thức cài đặt Google Tag Manager (GTM). Trong bài này mình sẽ giới thiệu một ví dụ cụ thể về event tracking sử dụng GTM và trả dữ liệu về Google Analytics, đó là track số lượt click một nút (button click) cụ thể trên website. </p><p><br /></p><p>Event được hiểu là một hành động nào đó diễn ra trên website. Event tracking là việc bạn đo lường những hành động cụ thể của người dùng trên website của mình, như down 1 tài liệu, nhấp một đường link hay click một nút nào đó. </p><p><br /></p><p>Dưới đây là website của mình. Mình muốn track xem nút Chia sẻ (share) được người dùng ấn vào bao nhiêu lần, đồng thời bắn dữ liệu từ GTM về Google Analytics. </p><p><br /></p><p><img src=\"http://i.imgur.com/5iBvWRZ.png\" /></p><p><br /></p><p>Trước hết nhắc lại qua về khái niệm: Tag là cái bạn dùng để ghi lại các event và gửi thông tin về bên thứ 3 (trong ví dụ này là Google Analytics). Trigger là điều kiện để Tag được kích hoạt. </p><p><br /></p><p>Để có thể tạo được Trigger CLICK NÚT CHIA SẺ phù hợp nhằm kích hoạt Tag CLICK NÚT CHIA SẺ, mình sẽ tạo Trigger kích hoạt Tag MỌI CLICK TRÊN WEB, rồi từ đó kiểm tra xem Variables (biến) phù hợp với Trigger CLICK NÚT CHIA SẺ là gì. Nghe hơi phức tạp nhưng mọi người cứ làm theo các bước dưới đây là sẽ rõ cả thôi.</p><p><br /></p><p><strong>1.\tTạo Trigger chung cho hành động click vào bất kỳ chỗ nào trên website: </strong></p><p><br /></p><p>Đầu tiên vào phần Variables như hình dưới, kiểm tra xem những biến liên quan tới click đã được bật lên hết chưa. Nếu chưa thì bạn tick hết vào. </p><p><br /></p><p><img src=\"http://i.imgur.com/wUkAupc.jpg\" /></p><p><br /></p><p>Tiếp theo ta tạo Trigger cho tất cả các click trên web, tạm đặt tên là “Click all”. Trong phần Choose event, chọn click.</p><p><br /></p><p><img src=\"http://i.imgur.com/YNKLbL5.png\" /></p><p><br /></p><p>Trong phần Configure Trigger, chọn All Elements vì đây là event loại click. </p><p><br /></p><p><img src=\"http://i.imgur.com/nbQM7H9.png\" /></p><p><br /></p><p>Trong phần Fire On, chọn All Clicks -> Create Trigger </p><p><br /></p><p><img src=\"http://i.imgur.com/MoJxzkn.jpg\" /></p><p><br /></p><p>Vậy là mình đã tạo xong Trigger Click all. Bây giờ mình sẽ chuyển sang chế độ Preview and Debug để test thử. Nếu của bạn là account mới thì nó sẽ là version 1. </p><p><br /></p><p><img src=\"http://i.imgur.com/W0Isf6L.png\" /></p><p><br /></p><p>Ta mở website của trong một tab khác của trình duyệt, khi ở trong chế độ Preview nó sẽ hiện một khung như dưới đây:</p><p><br /></p><p><img src=\"http://i.imgur.com/6aKGUqq.png\" /></p><p><br /></p><p>Mình thử click lung tung vào bất kì chỗ nào trên web thì nó ghi nhận gtm.click ở cột bên trái. Bạn sẽ thấy “Tags fired on this page” chưa có Tag nào vì mình chưa gắn tag nào cho trigger click all cả. Mục đích của Trigger click all này là mình muốn kiểm tra xem cái nút “chia sẻ” cần track nó có variable như thế nào? </p><p><br /></p><p>Mình ấn <strong>Ctrl (command với Mac) + click nút “chia sẻ”</strong>, khi đó mình thấy GTM đã ghi nhận click ở cột summary rồi. Ấn tab Variables và xem các biến khác nhau của nút “chia sẻ”. Ở đây mình cần phải chọn những biến nào là duy nhất đối với nút đó, để trigger hoạt động chính xác. </p><p><br /></p><p>Trong trường hợp này mình sẽ lựa chọn Click Element và Click Text để lát nữa tạo Trigger Click nút chia sẻ.</p><p><br /></p><p><img src=\"http://i.imgur.com/WCVjU09.png\" /></p><p><br /></p><p><strong>2.\tTạo Trigger Click nút Chia sẻ </strong></p><p><br /></p><p>Tương tự như trên bạn tạo Trigger cho hành động click nút chia sẻ, đặt tên là “Click Share”. Trong này mình chọn 2 biến là Click Element và Click Text đã chọn được từ lúc trước rồi Save Trigger. </p><p><br /></p><p><img src=\"http://i.imgur.com/YLZX9tL.png\" /></p><p><br /></p><p><strong>3.\tTạo Tag Click nút chia sẻ </strong></p><p><br /></p><p>Bây giờ mình sẽ tạo Tag Click nút chia sẻ, đề từ đó bắn dữ liệu thu được cho Google Analytics. Để tạo 1 Tag, bạn nhấn vào Tag -> New hoặc nhấn vào Overview -> Chọn New Tag. Mình tạm đặt tên Tag này là “CTA – Share”. Sau đó chọn product là Google Analytics. Sau này bạn có thể chọn một service nào khác tuỳ vào nhu cầu, hoặc tạo custom HTML Tag. </p><p><br /></p><p><img src=\"http://i.imgur.com/iT3stPU.png\" /></p><p><br /></p><p>Trong phần Choose a Tag Type ta chọn Universal Analytics -> Continue </p><p><br /></p><p><img src=\"http://i.imgur.com/oTS4cld.png\" /></p><p><br /></p><p>Trong phần Configure Tag, điền Tracking ID chính là ID Google Analytics của bạn, có dạng UA-... Bạn có thể vào account Google Analytics của mình -> Admin -> Property setting để copy Tracking ID và paste vào đây. Để cho thuận tiện, mình nên add tracking ID này là một biến (variable) luôn để sau này đỡ phải gõ đi gõ lại nhiều lần. Cái này các bạn có thể tự mày mò trong phần Variable, mình sẽ không giải thích ở đây kẻo loãng.</p><p><br /></p><p>Ta tick vào ô Enable Display Advertising Features, chọn Track type là Event. Bạn điền tiếp các mục trong Event Tracking Parameters gồm Category, Action và Label rồi ấn Continue. </p><p><br /></p><p><img src=\"http://i.imgur.com/HgeVaPk.png\" /></p><p><br /></p><p>Trong phần Fire On chọn Click rồi chọn Trigger Click Share đã tạo ban nãy. </p><p><br /></p><p><img src=\"http://i.imgur.com/yyTpkDz.png\" /></p><p><br /></p><p>Bây giờ mình reload lại website và click thử vào nút share. Ở phần Tags fired on this event mình thấy Tag “CTA – Share” đã hiện ra, vậy là ta đã liên kết Trigger với Tag thành công! </p><p><br /></p><p><img src=\"http://i.imgur.com/NY5JIkt.png\" /></p><p><br /></p><p>Bước cuối cùng, bạn thoát khỏi Preview mode và Publish version vừa tạo. Sau một khoảng thời gian bạn có thể quay trở lại Google Analytics -> Reporting -> Behavior -> Event -> Overview để kiểm tra dữ liệu event từ GTM trả về trên Google Analytics như thế nào. Bạn cũng có thể track real-time event bằng cách vào Real time -> Events. Tuyệt quá phải không nào :D? </p><p><br /></p><p><img src=\"http://i.imgur.com/683QDQ5.png\" /></p><p><br /></p><p>Chúc mọi người tracking vui vẻ! Mình sẽ tiếp tục cập nhật các loại hình tracking khác sử dụng GTM trên website trong thời gian tới. </p></div>","cat_id":{"_id":11,"name":"Kỹ năng"},"created_at":"2016-08-16T11:18:44.979Z","creator_id":638,"down_point":0,"tags":[],"title":"Cơ bản về Google Tag Manager (Phần 2): Hướng dẫn tạo event tracking ","up_point":12}